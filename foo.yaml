
trigger:
    - name: "GitHub webhook"
      type: "github_webhook"
      mq: "0mq-trigger-ghwh"

mq:
    - name: "0mq-trigger-ghwh"
      type: "zeromq"
      queue: "0mq-trigger-ghwh"
      socket_type: "pubsub"
      url: "tcp://127.0.0.1:5680"

db:
    - name: "sqlite"
      type: "sqlite3"

engine:
    - name: "local"
      type: "local"

job:
    - name: "Terraform plan-approve-apply pipeline"

      engine:
        name: "local"

      trigger:
        name: "github_webhook"
        repo:
          name: "testing"
          owner:
            name: "octokitty"

      params:
        - name: "account"
          description: "The account to deploy Terraform in"
          type: "string"
          default: "project1"
        - name: "environment"
          description: "The environment to deploy Terraform in"
          type: "string"
          default: "nonprod"
      actions:
        - name: "Terraform plan"
          type: run

